name: Expo Build (Simplified)

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    name: EAS Build
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸš€ Checkout code
      uses: actions/checkout@v4

    - name: ğŸ“¦ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'

    - name: ğŸ“± Setup EAS
      uses: expo/expo-github-action@v8
      with:
        eas-version: latest
        token: ${{ secrets.EXPO_TOKEN }}

    - name: ğŸ—ï¸ Build with EAS
      run: |
        eas build --platform android --profile production --non-interactive
      env:
        EXPO_TOKEN: ${{ secrets.EXPO_TOKEN }}

    - name: âœ… Success
      if: success()
      run: |
        echo "âœ… Build baÅŸarÄ±lÄ±!"
        echo "ğŸ“± Expo dashboard'da gÃ¶rÃ¼ntÃ¼leyebilirsiniz"
        echo "ğŸ”— https://expo.dev/"

    - name: âŒ Failure
      if: failure()
      run: |
        echo "âŒ Build baÅŸarÄ±sÄ±z!"
        echo "LÃ¼tfen Expo dashboard'Ä± kontrol edin"
